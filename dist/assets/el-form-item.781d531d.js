var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(r,t,n)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,o=(e,r)=>{for(var t in r||(r={}))a.call(r,t)&&l(e,t,r[t]);if(n)for(var t of n(r))i.call(r,t)&&l(e,t,r[t]);return e},s=(e,n)=>r(e,t(n));import{d as u,n as f,b as d,t as c,p,q as m,r as v,s as y,e as h,f as g,v as b,x as q,y as F,z as w,o as O,A as x,B as E,C as j,D as A,F as P,G as S,H as _,I as k,J as W,K as M,L as R,N as C,M as B,c as I,h as L,w as V,O as $,k as D,P as z,Q as N,g as T,T as J,R as Z,S as G}from"./index.b6704809.js";var H=u({name:"ElForm",props:{model:Object,rules:Object,labelPosition:String,labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean},emits:["validate"],setup(e,{emit:r}){const t=[];f((()=>e.rules),(()=>{t.forEach((e=>{e.evaluateValidationEnabled()})),e.validateOnRuleChange&&i((()=>({})))}));const n=()=>{e.model&&t.forEach((e=>{e.resetField()}))},a=(e=[])=>{(e.length?"string"==typeof e?t.filter((r=>e===r.prop)):t.filter((r=>e.indexOf(r.prop)>-1)):t).forEach((e=>{e.clearValidate()}))},i=r=>{if(!e.model)return;let n;"function"!=typeof r&&(n=new Promise(((e,t)=>{r=function(r,n){r?e(!0):t(n)}}))),0===t.length&&r(!0);let a,i=!0,l=0,s={};for(const e of t)e.validate("",((e,n)=>{e&&(i=!1,a||(a=n)),s=o(o({},s),n),++l===t.length&&r(i,s)}));return!i&&e.scrollToError&&u(Object.keys(a)[0]),n},l=(e,r)=>{e=[].concat(e);const n=t.filter((r=>-1!==e.indexOf(r.prop)));t.length&&n.forEach((e=>{e.validate("",r)}))},u=e=>{t.forEach((r=>{r.prop===e&&r.$el.scrollIntoView()}))},h=d(o(s(o({},c(e)),{resetFields:n,clearValidate:a,validateField:l,emit:r,addField:e=>{e&&t.push(e)},removeField:e=>{e.prop&&t.splice(t.indexOf(e),1)}}),function(){const e=v([]);function r(r){return e.value.indexOf(r)}return{autoLabelWidth:y((()=>{if(!e.value.length)return"0";const r=Math.max(...e.value);return r?`${r}px`:""})),registerLabelWidth:function(t,n){if(t&&n){const a=r(n);e.value.splice(a,1,t)}else t&&e.value.push(t)},deregisterLabelWidth:function(t){const n=r(t);n>-1&&e.value.splice(n,1)}}}()));return p(m,h),{validate:i,resetFields:n,clearValidate:a,validateField:l,scrollToField:u}}});function K(){return K=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},K.apply(this,arguments)}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,r){return(U=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function Y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function X(e,r,t){return(X=Y()?Reflect.construct:function(e,r,t){var n=[null];n.push.apply(n,r);var a=new(Function.bind.apply(e,n));return t&&U(a,t.prototype),a}).apply(null,arguments)}function ee(e){var r="function"==typeof Map?new Map:void 0;return ee=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return X(e,arguments,Q(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),U(n,e)},ee(e)}H.render=function(e,r,t,n,a,i){return h(),g("form",{class:q(["el-form",[e.labelPosition?"el-form--label-"+e.labelPosition:"",{"el-form--inline":e.inline}]])},[b(e.$slots,"default")],2)},H.__file="packages/components/form/src/form.vue";var re=/%[sdj%]/g,te=function(){};function ne(e){if(!e||!e.length)return null;var r={};return e.forEach((function(e){var t=e.field;r[t]=r[t]||[],r[t].push(e)})),r}function ae(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];var a=0,i=t.length;if("function"==typeof e)return e.apply(null,t);if("string"==typeof e){var l=e.replace(re,(function(e){if("%%"===e)return"%";if(a>=i)return e;switch(e){case"%s":return String(t[a++]);case"%d":return Number(t[a++]);case"%j":try{return JSON.stringify(t[a++])}catch(r){return"[Circular]"}break;default:return e}}));return l}return e}function ie(e,r){return null==e||(!("array"!==r||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(r)||"string"!=typeof e||e))}function le(e,r,t){var n=0,a=e.length;!function i(l){if(l&&l.length)t(l);else{var o=n;n+=1,o<a?r(e[o],i):t([])}}([])}"undefined"!=typeof process&&process.env;var oe=function(e){var r,t;function n(r,t){var n;return(n=e.call(this,"Async Validation Error")||this).errors=r,n.fields=t,n}return t=e,(r=n).prototype=Object.create(t.prototype),r.prototype.constructor=r,U(r,t),n}(ee(Error));function se(e,r,t,n,a){if(r.first){var i=new Promise((function(r,i){var l=function(e){var r=[];return Object.keys(e).forEach((function(t){r.push.apply(r,e[t]||[])})),r}(e);le(l,t,(function(e){return n(e),e.length?i(new oe(e,ne(e))):r(a)}))}));return i.catch((function(e){return e})),i}var l=!0===r.firstFields?Object.keys(e):r.firstFields||[],o=Object.keys(e),s=o.length,u=0,f=[],d=new Promise((function(r,i){var d=function(e){if(f.push.apply(f,e),++u===s)return n(f),f.length?i(new oe(f,ne(f))):r(a)};o.length||(n(f),r(a)),o.forEach((function(r){var n=e[r];-1!==l.indexOf(r)?le(n,t,d):function(e,r,t){var n=[],a=0,i=e.length;function l(e){n.push.apply(n,e||[]),++a===i&&t(n)}e.forEach((function(e){r(e,l)}))}(n,t,d)}))}));return d.catch((function(e){return e})),d}function ue(e,r){return function(t){var n,a;return n=e.fullFields?function(e,r){for(var t=e,n=0;n<r.length;n++){if(null==t)return t;t=t[r[n]]}return t}(r,e.fullFields):r[t.field||e.fullField],(a=t)&&void 0!==a.message?(t.field=t.field||e.fullField,t.fieldValue=n,t):{message:"function"==typeof t?t():t,fieldValue:n,field:t.field||e.fullField}}}function fe(e,r){if(r)for(var t in r)if(r.hasOwnProperty(t)){var n=r[t];"object"==typeof n&&"object"==typeof e[t]?e[t]=K({},e[t],n):e[t]=n}return e}var de=function(e,r,t,n,a,i){!e.required||t.hasOwnProperty(e.field)&&!ie(r,i||e.type)||n.push(ae(a.messages.required,e.fullField))},ce={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},pe={integer:function(e){return pe.number(e)&&parseInt(e,10)===e},float:function(e){return pe.number(e)&&!pe.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(r){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!pe.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(ce.email)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(ce.url)},hex:function(e){return"string"==typeof e&&!!e.match(ce.hex)}},me={required:de,whitespace:function(e,r,t,n,a){(/^\s+$/.test(r)||""===r)&&n.push(ae(a.messages.whitespace,e.fullField))},type:function(e,r,t,n,a){if(e.required&&void 0===r)de(e,r,t,n,a);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?pe[i](r)||n.push(ae(a.messages.types[i],e.fullField,e.type)):i&&typeof r!==e.type&&n.push(ae(a.messages.types[i],e.fullField,e.type))}},range:function(e,r,t,n,a){var i="number"==typeof e.len,l="number"==typeof e.min,o="number"==typeof e.max,s=r,u=null,f="number"==typeof r,d="string"==typeof r,c=Array.isArray(r);if(f?u="number":d?u="string":c&&(u="array"),!u)return!1;c&&(s=r.length),d&&(s=r.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?s!==e.len&&n.push(ae(a.messages[u].len,e.fullField,e.len)):l&&!o&&s<e.min?n.push(ae(a.messages[u].min,e.fullField,e.min)):o&&!l&&s>e.max?n.push(ae(a.messages[u].max,e.fullField,e.max)):l&&o&&(s<e.min||s>e.max)&&n.push(ae(a.messages[u].range,e.fullField,e.min,e.max))},enum:function(e,r,t,n,a){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(r)&&n.push(ae(a.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,r,t,n,a){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||n.push(ae(a.messages.pattern.mismatch,e.fullField,r,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(r)||n.push(ae(a.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},ve=function(e,r,t,n,a){var i=e.type,l=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(ie(r,i)&&!e.required)return t();me.required(e,r,n,l,a,i),ie(r,i)||me.type(e,r,n,l,a)}t(l)},ye={string:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(ie(r,"string")&&!e.required)return t();me.required(e,r,n,i,a,"string"),ie(r,"string")||(me.type(e,r,n,i,a),me.range(e,r,n,i,a),me.pattern(e,r,n,i,a),!0===e.whitespace&&me.whitespace(e,r,n,i,a))}t(i)},method:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(ie(r)&&!e.required)return t();me.required(e,r,n,i,a),void 0!==r&&me.type(e,r,n,i,a)}t(i)},number:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(""===r&&(r=void 0),ie(r)&&!e.required)return t();me.required(e,r,n,i,a),void 0!==r&&(me.type(e,r,n,i,a),me.range(e,r,n,i,a))}t(i)},boolean:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(ie(r)&&!e.required)return t();me.required(e,r,n,i,a),void 0!==r&&me.type(e,r,n,i,a)}t(i)},regexp:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(ie(r)&&!e.required)return t();me.required(e,r,n,i,a),ie(r)||me.type(e,r,n,i,a)}t(i)},integer:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(ie(r)&&!e.required)return t();me.required(e,r,n,i,a),void 0!==r&&(me.type(e,r,n,i,a),me.range(e,r,n,i,a))}t(i)},float:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(ie(r)&&!e.required)return t();me.required(e,r,n,i,a),void 0!==r&&(me.type(e,r,n,i,a),me.range(e,r,n,i,a))}t(i)},array:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(null==r&&!e.required)return t();me.required(e,r,n,i,a,"array"),null!=r&&(me.type(e,r,n,i,a),me.range(e,r,n,i,a))}t(i)},object:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(ie(r)&&!e.required)return t();me.required(e,r,n,i,a),void 0!==r&&me.type(e,r,n,i,a)}t(i)},enum:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(ie(r)&&!e.required)return t();me.required(e,r,n,i,a),void 0!==r&&me.enum(e,r,n,i,a)}t(i)},pattern:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(ie(r,"string")&&!e.required)return t();me.required(e,r,n,i,a),ie(r,"string")||me.pattern(e,r,n,i,a)}t(i)},date:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(ie(r,"date")&&!e.required)return t();var l;if(me.required(e,r,n,i,a),!ie(r,"date"))l=r instanceof Date?r:new Date(r),me.type(e,l,n,i,a),l&&me.range(e,l.getTime(),n,i,a)}t(i)},url:ve,hex:ve,email:ve,required:function(e,r,t,n,a){var i=[],l=Array.isArray(r)?"array":typeof r;me.required(e,r,n,i,a,l),t(i)},any:function(e,r,t,n,a){var i=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(ie(r)&&!e.required)return t();me.required(e,r,n,i,a)}t(i)}};function he(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var ge=he(),be=function(){function e(e){this.rules=null,this._messages=ge,this.define(e)}var r=e.prototype;return r.define=function(e){var r=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(t){var n=e[t];r.rules[t]=Array.isArray(n)?n:[n]}))},r.messages=function(e){return e&&(this._messages=fe(he(),e)),this._messages},r.validate=function(r,t,n){var a=this;void 0===t&&(t={}),void 0===n&&(n=function(){});var i=r,l=t,o=n;if("function"==typeof l&&(o=l,l={}),!this.rules||0===Object.keys(this.rules).length)return o&&o(null,i),Promise.resolve(i);if(l.messages){var s=this.messages();s===ge&&(s=he()),fe(s,l.messages),l.messages=s}else l.messages=this.messages();var u={};(l.keys||Object.keys(this.rules)).forEach((function(e){var t=a.rules[e],n=i[e];t.forEach((function(t){var l=t;"function"==typeof l.transform&&(i===r&&(i=K({},i)),n=i[e]=l.transform(n)),(l="function"==typeof l?{validator:l}:K({},l)).validator=a.getValidationMethod(l),l.validator&&(l.field=e,l.fullField=l.fullField||e,l.type=a.getType(l),u[e]=u[e]||[],u[e].push({rule:l,value:n,source:i,field:e}))}))}));var f={};return se(u,l,(function(r,t){var n,a=r.rule,o=!("object"!==a.type&&"array"!==a.type||"object"!=typeof a.fields&&"object"!=typeof a.defaultField);function s(e,r){return K({},r,{fullField:a.fullField+"."+e,fullFields:a.fullFields?[].concat(a.fullFields,[e]):[e]})}function u(n){void 0===n&&(n=[]);var u=Array.isArray(n)?n:[n];!l.suppressWarning&&u.length&&e.warning("async-validator:",u),u.length&&void 0!==a.message&&(u=[].concat(a.message));var d=u.map(ue(a,i));if(l.first&&d.length)return f[a.field]=1,t(d);if(o){if(a.required&&!r.value)return void 0!==a.message?d=[].concat(a.message).map(ue(a,i)):l.error&&(d=[l.error(a,ae(l.messages.required,a.field))]),t(d);var c={};a.defaultField&&Object.keys(r.value).map((function(e){c[e]=a.defaultField})),c=K({},c,r.rule.fields);var p={};Object.keys(c).forEach((function(e){var r=c[e],t=Array.isArray(r)?r:[r];p[e]=t.map(s.bind(null,e))}));var m=new e(p);m.messages(l.messages),r.rule.options&&(r.rule.options.messages=l.messages,r.rule.options.error=l.error),m.validate(r.value,r.rule.options||l,(function(e){var r=[];d&&d.length&&r.push.apply(r,d),e&&e.length&&r.push.apply(r,e),t(r.length?r:null)}))}else t(d)}if(o=o&&(a.required||!a.required&&r.value),a.field=r.field,a.asyncValidator)n=a.asyncValidator(a,r.value,u,r.source,l);else if(a.validator){try{n=a.validator(a,r.value,u,r.source,l)}catch(d){console.error,setTimeout((function(){throw d}),0),u(d.message)}!0===n?u():!1===n?u("function"==typeof a.message?a.message(a.fullField||a.field):a.message||(a.fullField||a.field)+" fails"):n instanceof Array?u(n):n instanceof Error&&u(n.message)}n&&n.then&&n.then((function(){return u()}),(function(e){return u(e)}))}),(function(e){!function(e){for(var r,t,n=[],a={},l=0;l<e.length;l++)r=e[l],t=void 0,Array.isArray(r)?n=(t=n).concat.apply(t,r):n.push(r);n.length?(a=ne(n),o(n,a)):o(null,i)}(e)}),i)},r.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!ye.hasOwnProperty(e.type))throw new Error(ae("Unknown rule type %s",e.type));return e.type||"string"},r.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var r=Object.keys(e),t=r.indexOf("message");return-1!==t&&r.splice(t,1),1===r.length&&"required"===r[0]?ye.required:ye[this.getType(e)]||void 0},e}();be.register=function(e,r){if("function"!=typeof r)throw new Error("Cannot register a validator by type, validator is not a function");ye[e]=r},be.warning=te,be.messages=ge,be.validators=ye;var qe=u({name:"ElLabelWrap",props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:r}){const t=v(null),n=F(m),a=F(w),i=v(0);f(i,((r,t)=>{e.updateAll&&(n.registerLabelWidth(r,t),a.updateComputedLabelWidth(r))}));const l=(a="update")=>{P((()=>{r.default&&e.isAutoWidth&&("update"===a?i.value=(()=>{var e;if(null==(e=t.value)?void 0:e.firstElementChild){const e=window.getComputedStyle(t.value.firstElementChild).width;return Math.ceil(parseFloat(e))}return 0})():"remove"===a&&n.deregisterLabelWidth(i.value))}))},o=()=>l("update");return O((()=>{x(t.value.firstElementChild,o),o()})),E(o),j((()=>{var e;l("remove"),A(null==(e=t.value)?void 0:e.firstElementChild,o)})),function(){var a,l;if(!r)return null;if(e.isAutoWidth){const e=n.autoLabelWidth,l={};if(e&&"auto"!==e){const r=Math.max(0,parseInt(e,10)-i.value),t="left"===n.labelPosition?"marginRight":"marginLeft";r&&(l[t]=`${r}px`)}return S("div",{ref:t,class:["el-form-item__label-wrap"],style:l},null==(a=r.default)?void 0:a.call(r))}return S(_,{ref:t},null==(l=r.default)?void 0:l.call(r))}}}),Fe=u({name:"ElFormItem",componentName:"ElFormItem",components:{LabelWrap:qe},props:{label:String,labelWidth:{type:[String,Number],default:""},prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,validator:k}},setup(e,{slots:r}){const t=F(m,{}),n=v(""),a=v(""),i=v(!1),l=v(""),u=v(),h=B(),g=y((()=>{let e=h.parent;for(;e&&"ElForm"!==e.type.name;){if("ElFormItem"===e.type.name)return!0;e=e.parent}return!1}));let b;f((()=>e.error),(e=>{a.value=e,n.value=e?"error":""}),{immediate:!0}),f((()=>e.validateStatus),(e=>{n.value=e}));const q=y((()=>e.for||e.prop)),x=y((()=>{const r={};if("top"===t.labelPosition)return r;const n=M(e.labelWidth||t.labelWidth);return n&&(r.width=n),r})),E=y((()=>{const n={};if("top"===t.labelPosition||t.inline)return n;if(!e.label&&!e.labelWidth&&g.value)return n;const a=M(e.labelWidth||t.labelWidth);return e.label||r.label||(n.marginLeft=a),n})),A=y((()=>{const r=t.model;if(!r||!e.prop)return;let n=e.prop;return-1!==n.indexOf(":")&&(n=n.replace(/:/,".")),R(r,n,!0).v})),S=y((()=>{const e=L();let r=!1;return e&&e.length&&e.every((e=>!e.required||(r=!0,!1))),r})),_=W(void 0,{formItem:!1}),k=()=>{n.value="",a.value=""},I=()=>{const r=t.model,n=A.value;let a=e.prop;-1!==a.indexOf(":")&&(a=a.replace(/:/,"."));const i=R(r,a,!0);Array.isArray(n)?i.o[i.k]=[].concat(b):i.o[i.k]=b,P((()=>{k()}))},L=()=>{const r=t.rules,n=e.rules,a=void 0!==e.required?{required:!!e.required}:[],i=R(r,e.prop||"",!1),l=r?i.o[e.prop||""]||i.v:[];return[].concat(n||l||[]).concat(a)},V=e=>L().filter((r=>!r.trigger||""===e||(Array.isArray(r.trigger)?r.trigger.indexOf(e)>-1:r.trigger===e))).map((e=>o({},e))),$=()=>{var e;i.value=!!(null==(e=L())?void 0:e.length)},D=d(s(o({},c(e)),{size:_,validateState:n,$el:u,evaluateValidationEnabled:$,resetField:I,clearValidate:k,validate:(r,l=C)=>{if(!i.value)return void l();const o=V(r);if((!o||0===o.length)&&void 0===e.required)return void l();n.value="validating";const s={};o&&o.length>0&&o.forEach((e=>{delete e.trigger})),s[e.prop]=o;const u=new be(s),f={};f[e.prop]=A.value,u.validate(f,{firstFields:!0},((r,i)=>{var o;n.value=r?"error":"success",a.value=r?r[0].message||`${e.prop} is required`:"",l(a.value,r?i:{}),null==(o=t.emit)||o.call(t,"validate",e.prop,!r,a.value||null)}))},updateComputedLabelWidth:e=>{l.value=e?`${e}px`:""}}));O((()=>{if(e.prop){null==t||t.addField(D);const e=A.value;b=Array.isArray(e)?[...e]:e,$()}})),j((()=>{null==t||t.removeField(D)})),p(w,D);const z=y((()=>[{"el-form-item--feedback":t.statusIcon,"is-error":"error"===n.value,"is-validating":"validating"===n.value,"is-success":"success"===n.value,"is-required":S.value||e.required,"is-no-asterisk":t.hideRequiredAsterisk},_.value?`el-form-item--${_.value}`:""])),N=y((()=>"error"===n.value&&e.showMessage&&t.showMessage)),T=y((()=>(e.label||"")+(t.labelSuffix||"")));return{formItemRef:u,formItemClass:z,shouldShowError:N,elForm:t,labelStyle:x,contentStyle:E,validateMessage:a,labelFor:q,resetField:I,clearValidate:k,currentLabel:T}}});const we=["for"];Fe.render=function(e,r,t,n,a,i){const l=I("LabelWrap");return h(),g("div",{ref:"formItemRef",class:q(["el-form-item",e.formItemClass])},[L(l,{"is-auto-width":"auto"===e.labelStyle.width,"update-all":"auto"===e.elForm.labelWidth},{default:V((()=>[e.label||e.$slots.label?(h(),g("label",{key:0,for:e.labelFor,class:"el-form-item__label",style:$(e.labelStyle)},[b(e.$slots,"label",{label:e.currentLabel},(()=>[D(z(e.currentLabel),1)]))],12,we)):N("v-if",!0)])),_:3},8,["is-auto-width","update-all"]),T("div",{class:"el-form-item__content",style:$(e.contentStyle)},[b(e.$slots,"default"),L(J,{name:"el-zoom-in-top"},{default:V((()=>[e.shouldShowError?b(e.$slots,"error",{key:0,error:e.validateMessage},(()=>[T("div",{class:q(["el-form-item__error",{"el-form-item__error--inline":"boolean"==typeof e.inlineMessage?e.inlineMessage:e.elForm.inlineMessage||!1}])},z(e.validateMessage),3)])):N("v-if",!0)])),_:3})],4)],2)},Fe.__file="packages/components/form/src/form-item.vue";const Oe=Z(H,{FormItem:Fe}),xe=G(Fe);export{xe as E,Oe as a};
